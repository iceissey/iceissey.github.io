<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>机器学习笔记11——高斯混合模型原理与推导</title>
      <link href="/article/3f1c8d74d0f5/"/>
      <url>/article/3f1c8d74d0f5/</url>
      
        <content type="html"><![CDATA[<h1 id="推荐阅读">推荐阅读</h1><ol type="1"><li><ahref="https://blog.csdn.net/qq_52466006/article/details/126786732">EM算法——直观理解与详细推导_TwilightSparkle.的博客-CSDN博客</a></li></ol><hr /><blockquote><p>    前言：在上一篇文章中，我们详细推导了EM算法的原理和过程，在最后，我们还剩下EM算法的具体应用。文章链接：<ahref="https://blog.csdn.net/qq_52466006/article/details/126786732">EM算法——直观理解与详细推导_TwilightSparkle.的博客-CSDN博客</a></p><p>    这篇文章就不对EM算法的流程和公式做过多赘述，详细请见上篇文章。在本篇文章中，将会利用EM算法处理高斯混合模型（GMM）。</p><p>    GMM学习参考链接：<ahref="https://www.bilibili.com/video/BV1aE411o7qd?p=69&amp;vd_source=747540861ba5c41c17852ccf069029f5">(系列十一)高斯混合模型4-EM求解-M-Step_哔哩哔哩_bilibili</a></p></blockquote><p>    高斯混合模型（<strong>G</strong>aussian <strong>M</strong>ixed<strong>M</strong>odel）指多个高斯分布函数的线性组合，理论上GMM可以拟合出任意类型的分布。高斯混合模型通常用于解决同一集合下的数据包含多个不同的分布的情况，即<strong>聚类</strong>。</p><h1 id="高斯混合模型与k-mean">高斯混合模型与K-mean</h1><p>    根据K-mean聚类算法的原理，K-mean算法的缺点之一在于无法将两个聚类中心点相同的类进行聚类，比如<spanclass="math inline">\(A\sim N(\mu,\sigma_1^2),B\simN(\mu,\sigma^2_2)\)</span>,此时将无法用K-mean算法聚类出A，B。为了解决这一缺点，提出了高斯混合模型（GMM）。GMM通过选择成分最大化后验概率完成聚类，各数据点的后验概率表示属于各类的可能性，而不是判定它完全属于某个类，所以称为<strong>软聚类</strong>。其在各类尺寸不同、聚类间有相关关系的时候可能比k-means聚类更合适。</p><h1 id="gmm的概率密度函数">GMM的概率密度函数</h1><h2 id="从几何角度">从几何角度</h2><p><img src="https://img.issey.top/img/202209191338651.jpg" /></p><p>    设有随机变量<strong>X</strong>，则单高斯分布可以写为：</p><p>    <span class="math inline">\(X\sim N(\mu,\Sigma)\)</span></p><p>    像图示的这种高斯混合分布（红线），每个样本可以看作是<strong>几个高斯分布加权平均叠加</strong>而成。于是高斯混合模型的概率密度函数为：</p><p>    <span class="math inline">\(p(x)=\sum_{k=1}^K\alpha_kN(x|\mu_k,\Sigma_k)\)</span></p><ul><li><p>K：k个高斯分布</p></li><li><p><spanclass="math inline">\(\alpha_k\)</span>：权值，样本x属于第k个高斯分布的概率。对于一个样本x,有<spanclass="math inline">\(\sum_{k=1}^Ka_k = 1\)</span>。</p></li><li><p><spanclass="math inline">\(N(x|\mu_k,\Sigma_K)\)</span>：在第k个高斯分布条件下发生x的概率。其中，<spanclass="math inline">\(\mu\)</span>为均值，<spanclass="math inline">\(\Sigma\)</span>为协方差矩阵。</p></li></ul><h2 id="从混合模型角度">从混合模型角度</h2><p>    首先需要引入隐变量<spanclass="math inline">\(z\)</span>,隐变量在EM算法时已经说过，这里就不再说明隐变量的定义。只是再提一下，<strong>每个样本都有自己的隐变量</strong>。</p><p>    隐变量<span class="math inline">\(z\)</span>的概率分布：<spanclass="math inline">\(z\)</span>为离散随机变量，<spanclass="math inline">\(z\)</span>的概率分布为对应的样本x属于每一个高斯分布的概率分布。</p><table><thead><tr class="header"><th><span class="math inline">\(z\)</span></th><th>1</th><th>2</th><th>...</th><th>k</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(P(z)\)</span></td><td><span class="math inline">\(p_1\)</span></td><td><span class="math inline">\(p_2\)</span></td><td>...</td><td><span class="math inline">\(p_k\)</span></td></tr></tbody></table><p>    <span class="math inline">\(p_k\)</span>表示样本x属于第k个高斯分布的概率，有<spanclass="math inline">\(\sum_{k=1}^KP_k = 1\)</span> 。</p><p>    为了便于理解，之后也会使用<spanclass="math inline">\(p(z=c_k)\)</span> 的形式来表示<spanclass="math inline">\(p_k\)</span> 。其中，<spanclass="math inline">\(c_k\)</span>为第k类高斯分布。</p><p>    在引入隐变量<spanclass="math inline">\(z\)</span>后，x的密度函数将变为：</p><p><span class="math display">\[\begin{split}p(x)&amp; = \sum_Zp(x,z) =\sum_{k=1}^Kp(x,z=c_k)\\&amp;=\sum_{k=1}^Kp(z=c_k)*p(x|z=c_k)\end{split}\]</span></p><p>    我们令<span class="math inline">\(p_k\)</span>为<spanclass="math inline">\(\alpha_k\)</span>,因为<spanclass="math inline">\(p(z=c_k)\)</span>就是<spanclass="math inline">\(p_k\)</span>,所以<spanclass="math inline">\(p(z=c_k)\)</span> 可表示为<spanclass="math inline">\(\alpha_k\)</span> ;</p><p>    而<span class="math inline">\(p(x|z=c_k)\)</span>就是<spanclass="math inline">\(N(x|\mu_k,\Sigma_k)\)</span> 。于是：</p><p>    <span class="math inline">\(p(x) = \sum_{k=1}^K\alpha_kN(x|\mu_k,\Sigma_k)\)</span></p><p>    这与从几何角度得出的概率密度公式相同。</p><h1 id="极大似然估计">极大似然估计</h1><p>    现在我们要用已知样本估计k个高斯分布的参数，一般通过样本估计模型参数的方法为极大似然估计（MLE），MLE在EM算法中已经讲过。</p><p>    定义变量和参数：</p><ul><li><p>x：随机变量，<spanclass="math inline">\(x_i\)</span>表示第i个样本。</p></li><li><p>z：隐变量，<span class="math inline">\(z^{(i)}\)</span>表示第i个样本的隐变量。</p></li><li><p>X：可观测数据，<span class="math inline">\(X =\{x_1,x_2,...,x_n\}\)</span></p></li><li><p>Z：不可观测数据，<span class="math inline">\(Z =\{z^{(1)},z^{(2)},...,z^{(n)}\}\)</span></p></li><li><p><span class="math inline">\(\theta\)</span>：模型参数，<spanclass="math inline">\(\theta =\{\alpha_1,\alpha_2,...,\alpha_k;\mu_1,\mu_2,...\mu_k;\Sigma_1,\Sigma_2,...,\Sigma_k\}\)</span></p></li></ul><p>回顾MLE目标函数:</p><p><span class="math display">\[\begin{split}\hat\theta&amp; = argmax_\theta  logP(X|\theta) \\ &amp;=argmax_\theta  log \prod_{i=1}^np(x_i|\theta)\\ &amp;=argmax_\theta  \sum_{i=1}^n logp(x_i|\theta)\end{split}\]</span></p><p>    将高斯混合模型的概率密度函数代入，得：</p><p><span class="math display">\[\begin{split}\hat\theta &amp;= argmax_\theta \sum_{i=1}^nlogp(x_i|\theta)\\&amp;=argmax_\theta\sum_{i=1}^nlog\sum_{k=1}^K\alpha_kN(x_i|\mu_k,\Sigma_k)\end{split}\]</span></p><p>    注：<span class="math inline">\(\alpha_k\)</span> 可以写为<spanclass="math inline">\(p_k\)</span> ，具体含义在上一节讲过。</p><p>    因为引入了隐变量，导致这个式子含有<spanclass="math inline">\(log\sum\)</span>，无法再进行MLE下一个步骤。回顾EM算法，EM算法就是拿来求解此类问题的。于是接下来需要用EM迭代求近似解。</p><h1 id="em算法求近似解">EM算法求近似解</h1><h2 id="e-step-简化q函数">E-step 简化Q函数</h2><blockquote><p>关于E-step具体要计算什么需要推导完M-step再回来说明。</p></blockquote><p>    回顾EM算法，目标函数为<span class="math inline">\(\hat\theta=argmax_\theta Q(\theta,\theta^{(t)})\)</span>。</p><p>    Q函数公式：</p><p><span class="math display">\[\begin{split}Q(\theta,\theta^{(t)})&amp; =E_z[logP(X,Z|\theta)|X,\theta^{(t)}] \\&amp;=\sum_ZlogP(X,Z|\theta)P(Z|X,\theta^{(t)})\end{split}\]</span></p><p>    因为高斯混合模型中的完整数据<spanclass="math inline">\((X,Z)\)</span> 独立同分布，未观测数据<spanclass="math inline">\(Z\)</span> 独立同分布，所以：</p><p><span class="math display">\[\begin{split}Q(\theta,\theta^{(t)}) &amp;=\sum_Zlog \prod_{i=1}^np(x_i,z^{(i)}|\theta)\prod _{i=1}^np(z^{(i)}|x_i,\theta^{(t)})\\&amp;=\sum_Z[ \sum_{i=1}^nlog p(x_i,z^{(i)}|\theta) ]\prod_{i=1}^np(z^{(i)}|x_i,\theta^{(t)})\end{split}\]</span></p><p>    注：$_Z $ 是<spanclass="math inline">\(\sum_{z^{(1)},z^{(2)},...,z^{(n)}}\)</span>的简写。</p><blockquote><p>关于最前面那个<span class="math inline">\(\sum_Z\)</span>的解释：</p><p>如果是是连续型函数，Q的表达式应该是：</p><p><span class="math inline">\(Q(\theta,\theta^{(t)}) =\int_ZlogP(X,Z|\theta)P(Z|X,\theta^{(t)})dz\)</span></p><p>但是现在是离散型，所以积分就变成了求和。</p></blockquote><h3 id="简化q函数">简化Q函数</h3><p><strong>展开Q函数：</strong><spanclass="math inline">\(Q(\theta,\theta^{(t)}) =\sum_Z[ logp(x_1,z^{(1)}|\theta)+logp(x_2,z^{(2)}|\theta)+...+logp(x_n,z^{(n)}|\theta) ]\prod _{i=1}^np(z^{(i)}|x_i,\theta^{(t)})\)</span></p><p><strong>只看第一项：</strong></p><p><span class="math inline">\(\sum_Zlogp(x_1,z^{(1)}|\theta)*\prod_{i=1}^np(z^{(i)}|x_i,\theta^{(t)})\)</span></p><blockquote><p>为什么要带上<span class="math inline">\(\sum_Z\)</span>:一样先看成积分再变成离散的形式就好理解了。</p></blockquote><p>因为<span class="math inline">\(logp(x_1,z^{(1)}|\theta)\)</span>只与<span class="math inline">\(z^{(1)}\)</span> 相关，而<spanclass="math inline">\(\prod_{i=1}^np(z^{(i)}|x_i,\theta^{(t)})\)</span>中，<spanclass="math inline">\(p(z^{(1)}|x_i,\theta^{(t)})\)</span> 与<spanclass="math inline">\(z^{(1)}\)</span>相关，所以可以将上式改写为：</p><p><span class="math display">\[\begin{split}&amp;\sum_Zlogp(x_1,z^{(1)}|\theta)*\prod_{i=1}^np(z^{(i)}|x_i,\theta^{(t)})\\&amp;=\sum_{z^{(1)}}logp(x_1,z^{(1)}|\theta)*p(z^{(1)}|x_1,\theta^{(t)})*[\sum_{z^{(2)},...z^{(n)}}\prod_{i=2}^np(z^{(i)}|x_i,\theta^{(t)})]\end{split}\]</span></p><blockquote><p>然后对于<span class="math inline">\(\sum_{z^{(2)},...z^{(n)}}\prod_{i=2}^np(z^{(i)}|x_i,\theta^{(t)})\)</span> ,实际上它等于1：</p><p>如同<span class="math inline">\(z^{(1)}\)</span> 一样，<spanclass="math inline">\(p(z^{(i)}|x_i,\theta^{(t)})\)</span> 只与<spanclass="math inline">\(z^{(i)}\)</span> 相关，所以上式展开将变为：</p><p><span class="math display">\[\begin{split}&amp;\sum_{z^{(2)},...z^{(n)}}\prod_{i=2}^np(z^{(i)}|x_i,\theta^{(t)}) \\&amp; =\sum_{z^{(2)},...z^{(n)}}p(z^{(2)}|x_2,\theta^{(t)})*p(z^{(3)}|x_3,\theta^{(t)})*...*p(z^{(n)}|x_n,\theta^{(t)})\\&amp;=\sum_{z^{(2)}}p(z^{(2)}|x_2,\theta^{(t)})*\sum_{z^{(3)}}p(z^{(3)}|x_3,\theta^{(t)})*...*\sum_{z^{(n)}}p(z^{(n)}|x_n,\theta^{(t)})\end{split}\]</span></p><p>而<span class="math inline">\(\sum_{z^{(i)}}p(z^{(i)}|x_i)=1\)</span> ,所以全部都可以约为1。</p><p>于是<span class="math inline">\(\sum_{z^{(2)},...z^{(n)}}\prod_{i=2}^np(z^{(i)}|x_i,\theta^{(t)}) = 1\)</span></p></blockquote><p>所以第一项：</p><p><span class="math display">\[\begin{split}&amp;\sum_Zlogp(x_1,z^{(1)}|\theta)\prod_{i=1}^np(z^{(i)}|x_i,\theta^{(t)}) \\&amp;=\sum_{z^{(1)}}logp(x_1,z^{(1)}|\theta)p(z^{(1)}|x_1,\theta^{(t)})\end{split}\]</span></p><p><strong>再看整体：</strong></p><p>有了第一项的结论，推广到整体</p><p><span class="math display">\[\begin{split}&amp;\sum_Z[ logp(x_1,z^{(1)}|\theta)+logp(x_2,z^{(2)}|\theta)+...+logp(x_n,z^{(n)}|\theta) ]\prod _{i=1}^np(z^{(i)}|x_i,\theta^{(t)})\\ &amp;=\sum_{z^{(1)}}logp(x_1,z^{(1)}|\theta)p(z^{(1)}|x_1,\theta^{(t)})+...+\sum_{z^{(n)}}logp(x_n,z^{(n)}|\theta)p(z^{(n)}|x_n,\theta^{(t)})\\&amp;=\sum_{i=1}^n\sum_{z^{(i)}}logp(x_i,z^{(i)}|\theta)p(z^{(i)}|x_i,\theta^{(t)})\end{split}\]</span></p><p><strong>结论：</strong></p><p>通过简化后，</p><p><span class="math display">\[\begin{split}&amp;Q(\theta,\theta^{(t)}) \\&amp;= \sum_Zlog\prod_{i=1}^n p(x_i,z^{(i)}|\theta)\prod_{i=1}^np(z^{(i)}|x_i,\theta^{(t)})\\&amp;=\sum_{i=1}^n\sum_{z^{(i)}}logp(x_i,z^{(i)}|\theta)p(z^{(i)}|x_i,\theta^{(t)})\end{split}\]</span></p><h3 id="做一些替换">做一些替换</h3><blockquote><p>在说明高斯混合模型的概率密度函数时，我们有</p><p><span class="math inline">\(p(x) = \sum_Zp(x,z) = \sum_{k=1}^K\alpha_kN(x|\mu_k,\Sigma_k)\)</span> ,</p><p>这里<spanclass="math inline">\(\alpha_k\)</span>代表样本x属于第k个高斯分布的概率。也可以描述为样本x的隐变量z的<spanclass="math inline">\(p_k\)</span>。</p></blockquote><p><span class="math inline">\(p(x_i,z_j^{(i)}|\theta)\)</span>说明：</p><ul><li><p><span class="math inline">\(x_i\)</span> :第i个样本</p></li><li><p><spanclass="math inline">\(z^{(i)}\)</span>:第i个样本的隐变量，前面说过每个变量都有自己的隐变量。</p></li><li><p><spanclass="math inline">\(z^{(i)}_j\)</span>:第i个样本的隐变量的第j个分类，于是<spanclass="math inline">\(P(z^{(i)}_j)\)</span>表示第i个样本属于第j个高斯分布的概率。<spanclass="math inline">\(P(z^{(i)}_j)\)</span> 又可表示为<spanclass="math inline">\(\alpha^{(i)}_j\)</span></p></li><li><p><span class="math inline">\(\theta = \{\alpha,\mu,\Sigma\}\)</span></p></li></ul><p><strong>对<spanclass="math inline">\(p(x_i,z_j^{(i)}|\theta)\)</span>展开:</strong></p><p>    <span class="math inline">\(p(x_i,z_j^{(i)}|\theta) =\alpha_j^{(i)}N(x|\mu_j,\Sigma_j)\)</span></p><p><strong>对<spanclass="math inline">\(p(z_j^{(i)}|x_i,\theta^{(t)})\)</span>展开:</strong></p><blockquote><p><span class="math inline">\(P(B|A) =\frac{P(A,B)}{P(A)}\)</span>   </p></blockquote><p><span class="math display">\[\begin{split}p(z_j^{(i)}|x_i,\theta^{(t)}) &amp;=\frac{p(x_i,z_j^{(i)}|\theta^{(t)})}{p(x_i)}\\&amp;=\frac{\alpha_j^{(i),(t)}N(x|\mu_j^{(t)},\Sigma_j^{(t)})}{\sum_{k=1}^K\alpha_k^{(t)}N(x|\mu_k^{(t)},\Sigma_k^{(t)})}\end{split}\]</span></p><p>于是：</p><p><span class="math display">\[\begin{split}&amp;Q(\theta,\theta^{(t)})\\&amp;=\sum_{i=1}^n\sum_{z^{(i)}}logp(x_i,z^{(i)}|\theta)p(z^{(i)}|x_i,\theta^{(t)})\\&amp;=\sum_{z^{(i)}}\sum_{i=1}^nlogp(x_i,z^{(i)}|\theta)p(z^{(i)}|x_i,\theta^{(t)})\\&amp;=\sum_{k=1}^K\sum_{i=1}^nlog[\alpha_kN(x_i|\mu_k,\Sigma_k)]p(z^{(i)}=c_k|x_i,\theta^{(t)})\\&amp;=\sum_{k=1}^K\sum_{i=1}^n[log\alpha_k+logN(x_i|\mu_k,\Sigma_k)]p(z^{(i)}=c_k|x_i,\theta^{(t)})\end{split}\]</span></p><p>为了后续运算方便书写，暂时不展开后面那一项，并且我们令后验概率：</p><p><span class="math inline">\(p(z^{(i)}=c_k|x_i,\theta^{(t)}) =\gamma_t(z^{(i)}_k)\)</span></p><blockquote><p>说明：这个公式里的 <span class="math inline">\(\alpha_k\)</span>实际上是<span class="math inline">\(\alpha^{(i)}_k\)</span> ；后项<spanclass="math inline">\(p(z^{(i)}=c_k|x_i,\theta^{(t)})\)</span> 就是<spanclass="math inline">\(p(z^{(i)}_k|x_i,\theta^{(t)})\)</span>,换了个写法而已，上面已经写过了关于它的展开。</p></blockquote><h2 id="m-step">M-step</h2><p>    表示出Q函数后，M-step需要求的是：</p><p>    <span class="math inline">\(\theta^{(t+1)} = argmax_\thetaQ(\theta,\theta^{(t)})\)</span></p><p>    这里要求的<span class="math inline">\(\theta\)</span>一共有<spanclass="math inline">\(\alpha,\mu,\Sigma\)</span> ，只例举<spanclass="math inline">\(\alpha\)</span> 的求法，<spanclass="math inline">\(\mu,\Sigma\)</span> 将会直接给出结果。</p><p>    Q函数前项里与<span class="math inline">\(\alpha\)</span>相关的只有<span class="math inline">\(log\alpha\)</span>,于是仅对于<spanclass="math inline">\(\alpha\)</span>而言有<strong>约束优化问题</strong>：</p><p>    <span class="math inline">\(\theta^{(t+1)} = argmax_\theta\sum_{k=1}^K\sum_{i=1}^nlog\alpha_k\gamma_t(z^{(i)}_k)\)</span></p><p>    同时有限制条件：<span class="math inline">\(\sum_{k=1}^K\alpha_k= 1\)</span></p><h3 id="拉格朗日乘子法求解">拉格朗日乘子法求解</h3><p>    约束优化问题用拉格朗日乘子法求解，于是有拉格朗日函数：</p><p>    <span class="math inline">\(\ell(\alpha,\lambda) =\sum_{k=1}^K\sum_{i=1}^nlog\alpha_k*\gamma_t(z^{(i)}_k)+\lambda(\sum_{k=1}^K\alpha_k-1)\)</span></p><p>    对<span class="math inline">\(\alpha_k\)</span>求偏导,令其为0：</p><p>    <spanclass="math inline">\(\frac{\partial(\ell(\alpha,\lambda))}{\partial(\alpha_k)}= \sum_{i=1}^n\frac{1}{\alpha_k}\gamma_t(z^{(i)}_k)+\lambda =0\)</span></p><p>    两边同时乘分母，</p><p>    <spanclass="math inline">\(\sum_{i=1}^n\gamma_t(z^{(i)}_k)+\alpha_k\lambda =0~~~~~~~~~~~~~~(1)\)</span></p><p>    把所有<span class="math inline">\(\alpha_k\)</span>相加：</p><p>    <spanclass="math inline">\(\sum_{i=1}^n\sum_{k=1}^K\gamma_t(z^{(i)}_k)+\sum_{k=1}^K\alpha_k\lambda= 0\)</span></p><p>    又因为<spanclass="math inline">\(\gamma_t\)</span>为概率分布，<spanclass="math inline">\(\alpha\)</span> 为概率分布，有</p><p>    <span class="math inline">\(\sum_{k=1}^K\gamma_t(z^{(i)}_k) =1;\sum_{k=1}^K\alpha_k = 1\)</span></p><p>    所以化简可得：</p><p>    <span class="math inline">\(N+\lambda = 0\\\lambda =-n\)</span></p><p>    将<span class="math inline">\(\lambda =-n\)</span>代入（1）式中，可得<spanclass="math inline">\(\alpha_k\)</span>：</p><p>    <span class="math inline">\(\alpha_k^{(t+1)} =\frac{1}{N}\sum_{i=1}^n\gamma_t(z^{(i)}_k)\)</span></p><p>    而<span class="math inline">\(\alpha^{(t+1)} =\{a_1^{(t+1)},a_2^{(t+1)},...,a_k^{(t+1)}\}\)</span></p><h3 id="另外两个参数">另外两个参数</h3><p>    这里就不计算了，直接给结果吧。</p><p>    <span class="math inline">\(\mu_k^{(t+1)} =\frac{\sum_{i=1}^n[\gamma_t(z^{(i)}_k)x_i]}{\sum_{i=1}^n\gamma_t(z^{(i)}_k)}\)</span></p><p>    <span class="math inline">\(\Sigma_k^{(t+1)} =\frac{\sum_{i=1}^n\gamma_t(z^{(i)}_k)(x_n-\mu_k)(x_n-\mu_k)^T}{\sum_{i=1}^n\gamma_t(z^{(i)}_k)}\)</span></p><h2 id="再看e-step">再看E-step</h2><p>    其实刚才写E-step时并没有写E-step具体要求什么，现在我们推出了<spanclass="math inline">\(\theta^{(t+1)}\)</span>,发现只要求出<strong>隐变量z的后验分布</strong>的，那就都可以算出来。所以在E-step,实质上只需要求隐变量的后验概率分布<spanclass="math inline">\(\gamma_t(z^{(i)})\)</span>即可。这在上一篇EM算法推导中也说明过。精确到每一个后验概率：</p><p><span class="math display">\[\begin{split}\gamma_t(z^{(i)}_k) &amp;= p(z^{(i)}=c_k|x_i,\theta^{(t)})\\&amp;=\frac{\alpha_k^{(i),(t)}N(x|\mu_k^{(t)},\Sigma_k^{(t)})}{\sum_{j=1}^K\alpha_j^{(t)}N(x|\mu_j^{(t)},\Sigma_j^{(t)})}\end{split}\]</span></p><h1 id="gmm总结">GMM总结</h1><h2 id="gmm聚类流程">GMM聚类流程</h2><p><strong>step1：</strong></p><p>    定义高斯分布个数K，对每个高斯分布设置初始参数值<spanclass="math inline">\(\theta^{(0)}_k = \alpha_k,\mu_k,\Sigma_k\)</span>。<strong>一般第一步不会自己设置初始值，而是通过K-mean算法计算初始值。</strong></p><p><strong>step2 E-step：</strong></p><p>    根据当前的参数<span class="math inline">\(\theta^{(t)}\)</span>,计算每一个隐变量的后验概率分布<spanclass="math inline">\(\gamma_t(z^{(i)})\)</span>。精确到每一个后验概率的计算，有</p><p>    <span class="math inline">\(\gamma_t(z_k^{(i)}) =\frac{\alpha_k^{(i),(t)}N(x|\mu_k^{(t)},\Sigma_k^{(t)})}{\sum_{j=1}^K\alpha_j^{(t)}N(x|\mu_j^{(t)},\Sigma_j^{(t)})}\)</span></p><p><strong>step3 M-step：</strong></p><p>    根据E-step计算出的隐变量后验概率分布，进一步计算新的<spanclass="math inline">\(\theta^{(t+1)}\)</span></p><p>    <span class="math inline">\(\alpha_k^{(t+1)} =\frac{1}{N}\sum_{i=1}^n\gamma_t(z^{(i)}_k)\)</span></p><p>    <span class="math inline">\(\mu_k^{(t+1)} =\frac{\sum_{i=1}^n[\gamma_t(z^{(i)}_k)x_i]}{\sum_{i=1}^n\gamma_t(z^{(i)}_k)}\)</span></p><p>    <span class="math inline">\(\Sigma_k^{(t+1)} =\frac{\sum_{i=1}^n\gamma_t(z^{(i)}_k)(x_n-\mu_k)(x_n-\mu_k)^T}{\sum_{i=1}^n\gamma_t(z^{(i)}_k)}\)</span></p><p><strong>step4:</strong> 循环E-step和M-step直至收敛。</p><h2 id="gmm优缺点">GMM优缺点</h2><p><strong>优点：</strong></p><ul><li><p>GMM使用均值和标准差，簇可以呈现出椭圆形，优于k-means的圆形</p></li><li><p>GMM是使用概率，故一个数据点可以属于多个簇</p></li></ul><p><strong>缺点：</strong></p><p>    同EM算法缺点。</p><h2 id="gmm的实现与应用">GMM的实现与应用</h2><p>    将在下一篇文章进行GMM的具体实现和应用。</p><blockquote><p>    文章链接：待更新</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 机器学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 无监督学习 </tag>
            
            <tag> 聚类算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo数学公式显示问题</title>
      <link href="/article/1d3b342ddcd7/"/>
      <url>/article/1d3b342ddcd7/</url>
      
        <content type="html"><![CDATA[<blockquote><p>    这周末在搬迁Hexo博客并且修复之前博客的bug，外加继续装修博客。整了一个周末终于弄好了。</p><p>    总结一下遇到的最让我无语而且耗时最长的问题吧。</p><p>    Latex数学公式+公式无法换行。</p></blockquote><p>    首先呢这是两个问题，要先让hexo支持数学公式，再来才是不能换行的问题。自己找了许许多多的教程，先后折磨了快半天，才找到了较为完美的解决方案。可能是关于这方面的教程大多都太老了，版本迭代后不太适用吧。</p><h1 id="关于hexo和主题">关于Hexo和主题</h1><p>    这个问题实际<strong>与主题无关</strong>。最开始我一直纠结于主题不同解决方法是不是不一样，最后解决了发现不是。</p><p>    我用的是hexo和butterfly截止目前的最新版本：</p><p>    hexo：6.3.0</p><p>    butterfly：4.4.0</p><h1 id="让hexo支持数学公式">让Hexo支持数学公式</h1><p>    这部分我跟着这篇文章搞的：<ahref="https://blog.csdn.net/gorray/article/details/122398901">Hexo如何显示latex公式_gorray的博客-CSDN博客_hexolatex公式</a></p><p>    其实要做的步骤很少：</p><p>    1.首先卸载hexo-math和hexo-renderer-marked。然而hexo应该是没有自带hexo-math的，所以只需要卸载第二个就行。以防万一还是可以直接执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-math</span><br><span class="line">npm un hexo-renderer-marked</span><br></pre></td></tr></table></figure><p>    2.安装hexo-renderer-pandoc渲染器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-renderer-pandoc</span><br></pre></td></tr></table></figure><p>    好，到此为止，需要的包就迭代好了。</p><p>    3.然后是配置主题配置下的mathjax设置。我用的是butterfly，那么对应路径是： _config.yml</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># MathJax</span></span><br><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h1 id="pandoc报错">Pandoc报错</h1><p>    理论上到这一步就可以用了对吧，一般的教程也都这样。就算再外加一步，我学习的那篇文章里提到，接下来还应该去Pandoc官网下载<strong>最新版本</strong>pandoc：<ahref="https://pandoc.org/index.html">Pandoc - About pandoc</a></p><p>    关于pandoc下载安装教程随便查一下就有，这里就不说明了。然后再在环境配置配置了pandoc路径，直到你可以在cmd输入以下命令查看它的版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pandoc -v</span><br></pre></td></tr></table></figure><p>    我的输出：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pandoc 2.19.2</span><br><span class="line">Compiled with pandoc-types 1.22.2.1, texmath 0.12.5.2, skylighting 0.13,</span><br><span class="line">citeproc 0.8.0.1, ipynb 0.2, hslua 2.2.1</span><br><span class="line">Scripting engine: Lua 5.4</span><br></pre></td></tr></table></figure><p>    有的朋友可能到这一步就发现不对了，不要慌，接下来才是重点。</p><h2 id="一个莫名其妙的错误">一个莫名其妙的错误</h2><p>    先回到hexo目录，执行hexo -s,如果你没有出现这个报错：</p><p>    <span class="math inline">\(\color{red}{pandoc~exited ~with ~code~9: pandoc: Unknown~extension:~smart}\)</span></p><p>    那么恭喜你，你的这个问题并不存在，可以选择跳过。但是如果你和我一样报这个错误，可能就开始头疼了。不过我终于还是找到了解决方法。</p><p>    首先我是找到了这篇文章：<ahref="https://www.cnblogs.com/diralpo/p/12542450.html">配置hexo时遇到的问题- diralpo - 博客园 (cnblogs.com)</a></p><p>    从这篇文章得知，导致该报错的原因是<strong>pandoc版本过低</strong>，而且还不是一般原因引起的版本过低，因为前面我们已经安装了最新版本的pandoc。但是最新版本的没起作用。于是我打开了everything查找电脑上存在的pandoc。然后发现位于Anaconda，真正问题也出在这儿。</p><p>    <strong>是因为Anaconda安装的pandoc版本过低，而且hexo默认使用的是Anaconda的pandoc。</strong></p><p>    不信的话你去找找，那个pandoc居然是2017年的。在某一篇文章得知，pandoc版本应该在2.0以上，但那个pandoc好像是1.9。那接下来的就简单了，直接把新下载的pandoc.exe替换Anaconda里的pandoc.exe。</p><p><img src="https://img.issey.top/img/202209182134541.png" /></p><p>    然后你在回去hexo -s，就没问题了。</p><h1 id="换行问题">换行问题</h1><p>    其实做到上一步，换行问题也已经随之解决了。不过这里还是提一下关于这个换行。</p><p>    首先，想直接通过 ，end这种写法是做不到换行的，我最开始就是纠结于这个，然而这写法本来也不规范，例如：A  B是不能达到换行的。但是在加上规范的begin和end就可以了。其次，换行公式应该写成行间公式而非行内公式。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$A \\ B$  错误写法</span><br><span class="line">\begin&#123;split&#125; A\\B \end&#123;split&#125; 写在行内错误，写在行间正确。</span><br></pre></td></tr></table></figure><p><span class="math display">\[\begin{split} A\\B \end{split}\]</span></p><p>    这篇文章是我做的hexo公式测试：<ahref="https://www.issey.top/article/1365bcc580cd/">Latex公式测试 |issey的博客</a></p><p>    如果不是网速加载问题，那么显示应该是：</p><p>    <img src="https://img.issey.top/img/202209182149084.png" /></p>]]></content>
      
      
      <categories>
          
          <category> 测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>代码测试</title>
      <link href="/article/cb3b152854a1/"/>
      <url>/article/cb3b152854a1/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    original_img = plt.imread(<span class="string">&#x27;color.png&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Shape of original_img is:&quot;</span>, original_img.shape)</span><br><span class="line">    original_img /= <span class="number">255</span></span><br><span class="line">    X_img = np.reshape(original_img, (original_img.shape[<span class="number">0</span>] * original_img.shape[<span class="number">1</span>], <span class="number">4</span>))</span><br><span class="line">    <span class="comment"># 模型训练</span></span><br><span class="line">    K = <span class="number">8</span></span><br><span class="line">    model = KMeans(n_clusters=K)</span><br><span class="line">    model.fit(X_img)</span><br><span class="line">    centroids = model.cluster_centers_</span><br><span class="line">    <span class="comment"># labels得到的是质心索引</span></span><br><span class="line">    labels = model.predict(X_img)</span><br><span class="line">    <span class="comment"># print(labels[:6])</span></span><br><span class="line">    <span class="comment"># 替换样本</span></span><br><span class="line">    X_recovered = centroids[labels]</span><br><span class="line">    X_recovered = np.reshape(X_recovered, original_img.shape)</span><br><span class="line"></span><br><span class="line">    plt.imshow(X_recovered*<span class="number">255</span>)</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Latex公式测试</title>
      <link href="/article/1365bcc580cd/"/>
      <url>/article/1365bcc580cd/</url>
      
        <content type="html"><![CDATA[<p><span class="math display">\[\mathbf{V}_1 \times \mathbf{V}_2 = \begin{vmatrix}\mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} \\\frac{\partial X}{\partial u} &amp; \frac{\partial Y}{\partial u} &amp;0 \\\frac{\partial X}{\partial v} &amp; \frac{\partial Y}{\partial v} &amp;0 \\\end{vmatrix}\]</span></p><p>多行对齐：</p><p><span class="math display">\[\begin{gather}\begin{split}Adv^{Fed}&amp; = Pr^{Fed}\left ( A=1\mid x\in D_{T} \right ) - Pr^{Fed}\left (A=1\mid x\in D_{N} \right ) \\&amp; = \underset{x\in D_{T}}{E^{Fed}}\left ( P\left ( A=1\mid x \right) \right )-\underset{x\in D_{N}}{E^{Fed}}\left ( P\left ( A=1\mid x\right ) \right ) \\&amp; = \underset{x\in D_{T}}{E^{Fed}}\left ( 1-\frac{L\left ( \left (x,y \right ),F \right )}{A} \right )-\underset{x\in D_{N}}{E^{Fed}}\left( 1-\frac{L\left ( \left ( x,y \right ),F \right )}{A} \right )\\&amp; = \frac{1}{A}\cdot \left [ \underset{x\in D_{N}}{E^{Fed}}\left (L\left ( \left ( x,y \right ),F \right )\right )-\underset{x\inD_{T}}{E^{Fed}}\left ( L\left ( \left ( x,y \right ),F \right ) \right )\right ] \\\end{split}\end{gather}\]</span></p>]]></content>
      
      
      <categories>
          
          <category> 测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PageHelper返回给前端的数据示例以及参数说明</title>
      <link href="/article/da43cda93935/"/>
      <url>/article/da43cda93935/</url>
      
        <content type="html"><![CDATA[<h1id="pagehelper返回给前端的数据示例以及参数说明">PageHelper返回给前端的数据示例以及参数说明</h1><h2id="请求成功后前端拿到的response-body">请求成功后，前端拿到的Responsebody：</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">7</span><span class="punctuation">,</span>    <span class="comment">// 所有数据条数</span></span><br><span class="line">  <span class="attr">&quot;list&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>        <span class="comment">// 数据列表</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> *<span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;***&quot;</span><span class="punctuation">,</span> </span><br><span class="line">      <span class="attr">&quot;pwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*****&quot;</span><span class="punctuation">,</span>    </span><br><span class="line">      <span class="attr">&quot;dongjie&quot;</span><span class="punctuation">:</span> *<span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;******&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*********&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;qq&quot;</span><span class="punctuation">:</span> <span class="string">&quot;***&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tishi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*******&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;huida&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;dizhi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*******&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;youbian&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*****&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;regtime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;***&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;truename&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**********&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">     <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> *<span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;***&quot;</span><span class="punctuation">,</span> </span><br><span class="line">      <span class="attr">&quot;pwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*****&quot;</span><span class="punctuation">,</span>    </span><br><span class="line">      <span class="attr">&quot;dongjie&quot;</span><span class="punctuation">:</span> *<span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;******&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*********&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;qq&quot;</span><span class="punctuation">:</span> <span class="string">&quot;***&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tishi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*******&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;huida&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;dizhi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*******&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;youbian&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*****&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;regtime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;***&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;truename&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**********&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> *<span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;***&quot;</span><span class="punctuation">,</span> </span><br><span class="line">      <span class="attr">&quot;pwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*****&quot;</span><span class="punctuation">,</span>    </span><br><span class="line">      <span class="attr">&quot;dongjie&quot;</span><span class="punctuation">:</span> *<span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;******&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*********&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;qq&quot;</span><span class="punctuation">:</span> <span class="string">&quot;***&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tishi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*******&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;huida&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;dizhi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*******&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;youbian&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*****&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;regtime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;***&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;truename&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**********&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;pageNum&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span>        <span class="comment">// 当前页码</span></span><br><span class="line">  <span class="attr">&quot;pageSize&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span>    <span class="comment">// 每页多少条数据</span></span><br><span class="line">  <span class="attr">&quot;size&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span>        <span class="comment">// 当前页有多少条数据，因为总数据只有7条，这是最后一页，少了一条</span></span><br><span class="line">  <span class="attr">&quot;startRow&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span>    <span class="comment">// 数据起始行，指本页面第一条数据在数据库中的行数</span></span><br><span class="line">  <span class="attr">&quot;endRow&quot;</span><span class="punctuation">:</span> <span class="number">7</span><span class="punctuation">,</span>        <span class="comment">// 数据末行，指本页面最后一条数据在数据库中的行数</span></span><br><span class="line">  <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span>        <span class="comment">// 总页数</span></span><br><span class="line">  <span class="attr">&quot;prePage&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span>        <span class="comment">// 前一页，第一页的prePage = 0</span></span><br><span class="line">  <span class="attr">&quot;nextPage&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span>    <span class="comment">// 后一页，最后一页的nextPage = 0</span></span><br><span class="line">  <span class="attr">&quot;isFirstPage&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>        <span class="comment">// 是否是第一页</span></span><br><span class="line">  <span class="attr">&quot;isLastPage&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span>    <span class="comment">// 是否是最后一页</span></span><br><span class="line">  <span class="attr">&quot;hasPreviousPage&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span>    <span class="comment">// 有前一页吗</span></span><br><span class="line">  <span class="attr">&quot;hasNextPage&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>        <span class="comment">// 有后一页吗</span></span><br><span class="line">  <span class="attr">&quot;navigatePages&quot;</span><span class="punctuation">:</span> <span class="number">8</span><span class="punctuation">,</span>    <span class="comment">// 每页显示的页码个数</span></span><br><span class="line">  <span class="attr">&quot;navigatepageNums&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>        <span class="comment">// 显示的页码数（大概是这意思，没试过，应该是配合上一个属性用的）</span></span><br><span class="line">    <span class="number">1</span><span class="punctuation">,</span>    </span><br><span class="line">    <span class="number">2</span>    </span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigateFirstPage&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span>    <span class="comment">// 起始页码</span></span><br><span class="line">  <span class="attr">&quot;navigateLastPage&quot;</span><span class="punctuation">:</span> <span class="number">2</span>        <span class="comment">// 尾页码</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 后端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
